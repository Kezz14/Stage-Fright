<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stage Fright</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap">
    <link rel="stylesheet" href="./css/style.css" />
    <script src="script.js"></script>
</head>

<body>
 
 <!-- Accessibility Bubble -->
 <div
 class="accessibility-bubble"
 onclick="toggleAccessibilityToolbar()"
 aria-label="Open Accessibility Toolbar"
 role="button"
 tabindex="0"
>
 <i class="fas fa-universal-access"></i>
</div>

<!-- Accessibility Toolbar -->
<div
 class="accessibility-toolbar"
 id="accessibilityToolbar"
 aria-label="Accessibility Toolbar"
 style="display: none;"
>
 <div class="toolbar-header">
     <h3>Accessibility Tools</h3>
     <button class="close-button" onclick="toggleAccessibilityToolbar()" aria-label="Close Accessibility Toolbar">
         âœ•
     </button>
 </div>

 <div class="toolbar-options">
     <!-- Text Resizing -->
     <div>
         <label for="textResize">Text Size:</label>
         <div class="text-resize-wrapper">
             <input
                 type="range"
                 id="textResize"
                 min="1"
                 max="5"
                 step="1"
                 value="3"
                 onchange="adjustTextSize(this.value)"
                 aria-label="Adjust Text Size"
             />
             <span id="textResizeLabel">Normal</span>
         </div>
     </div>

     <!-- Font Customization -->
   
     <!-- High Contrast Mode -->
     <div>
         <button onclick="toggleHighContrast()" aria-label="Toggle High Contrast Mode">
             High Contrast
         </button>
     </div>

     <!-- Grayscale Mode -->
     <div>
         <button onclick="toggleGrayscale()" aria-label="Toggle Grayscale Mode">
             Grayscale
         </button>
     </div>

     

     <!-- Reset Settings -->
     <div>
         <button onclick="resetAccessibility()" aria-label="Reset Accessibility Settings">
             Reset
         </button>
     </div>
 </div>
</div>

    <!-- Navbar -->
    <div class="navbar">
        <div class="nav-logo">
            <a href="./index.html">
                <img src="assets/images/logo1.png" alt="Stage Fright Logo" class="logo">
                <script src="script.js"></script>
            </a>
        </div>
        <div class="nav-links">
            <a href="./index.html">Home</a>
            <a href="./Tour.html">Tour</a>
            <a href="./Merch.html">Merch</a>
            <a href="./About.html">About</a>
            <a href="./index.html#contact-container">Contact</a>
        </div>
        
        <div class="cart-icon" onclick="toggleCart()">
            <i class="fas fa-shopping-cart"></i>
            <span id="cartCount" class="cart-badge">0</span>
        </div>
    </div>
    
    <!-- Cart Sidebar -->
    <div class="cart-sidebar" id="cartSidebar" style="transform: translateX(100%);">
        <div class="cart-header">
            <h3>Shopping Cart</h3>
            <button onclick="toggleCart()">&times;</button>
        </div>
        <div class="cart-items" id="cartItems">
            <!-- Items will be dynamically added here -->
        </div>
        <div class="cart-total">
            <p>Total: $<span id="cartTotal">0</span></p>
            <a href="./checkout.html">
                <button>Checkout</button>
            </a>
        </div>
    </div>
      

    <!-- Merch Section -->
    <main class="merch-section">
        <div class="container">
            <h1 class="pg-name">Merchandise</h1>
            <div class="sort-options">
                <label for="sort">Sort by:</label>
                <select id="sort" onchange="sortItems()">
                    <option value="relevance">Relevance</option>
                    <option value="price-asc">Price: Low to High</option>
                    <option value="price-desc">Price: High to Low</option>
                    <option value="clothing">Clothing</option>
                    <option value="albums">Albums</option>
                    <option value="miscellaneous">Miscellaneous</option>
                </select>
            </div>
            
            <div class="grid">
                <!-- Merch Items -->
                <div class="item clothing">
                    <img src="./assets/images/merch/T-Shirt.png" alt="T-Shirt">
                    <h3>Stage Fright T-Shirt</h3>
                    <p>$25</p>
                    <select class="size-select">
                        <option value="S">Small</option>
                        <option value="M">Medium</option>
                        <option value="L">Large</option>
                        <option value="XL">Extra Large</option>
                    </select>
                    <button onclick="addToCart('Stage Fright T-Shirt', 25)">Add to Cart</button>
                </div>
                <div class="item clothing">
                    <img src="./assets/images/merch/hoodie2.jpeg" alt="T-Shirt">
                    <h3>Stage Fright Hoodie</h3>
                    <p>$35</p>
                    <select class="size-select">
                        <option value="S">Small</option>
                        <option value="M">Medium</option>
                        <option value="L">Large</option>
                        <option value="XL">Extra Large</option>
                    </select>
                    <button onclick="addToCart('Stage Fright T-Shirt', 35)">Add to Cart</button>
                </div>
                <div class="item sold-out clothing">
                    <img src="./assets/images/merch/Hoodie.png" alt="Hoodie">
                    <h3>Stage Fright Hoodie</h3>
                    <p>$40</p>
                    <select class="size-select">
                        <option value="S">Small</option>
                        <option value="M">Medium</option>
                        <option value="L">Large</option>
                        <option value="XL">Extra Large</option>
                    </select>
                    <span class="sold-out-message">Sold Out</span>
                    <button disabled>Sold Out</button>
                </div>
                <div class="item miscellaneous">
                    <img src="./assets/images/merch/Stickers.jpeg" alt="Stickers">
                    <h3>Stage Fright Stickers</h3>
                    <p>$5</p>
                    <button onclick="addToCart('Stage Fright Stickers', 5)">Add to Cart</button>
                </div>
                <div class="item albums">
                    <img src="./assets/images/merch/Vinyl.png" alt="Vinyl">
                    <h3>Debut Vinyl</h3>
                    <p>$30</p>
                    <button onclick="addToCart('Debut Vinyl', 30)">Add to Cart</button>
                </div>
                <div class="item albums">
                    <img src="./assets/images/merch/RiseFromTheAshesAlbum.jpeg" alt="Vinyl">
                    <h3>Rise from the ashes Vinyl</h3>
                    <p>$30</p>
                    <button onclick="addToCart('Debut Vinyl', 30)">Add to Cart</button>
                </div>
                <div class="item albums">
                    <img src="./assets/images/merch/EchoesOfTheStageAlbum.webp" alt="Vinyl">
                    <h3>Echoes of the Stage Vinyl</h3>
                    <p>$30</p>
                    <button onclick="addToCart('Echoes of the Stage Vinyl', 30)">Add to Cart</button>
                </div>
                <div class="item miscellaneous">
                    <img src="./assets/images/merch/cup.jpeg" alt="Mug">
                    <h3>Stage Fright Mug</h3>
                    <p>$12</p>
                    <button onclick="addToCart('Stage Fright Mug', 12)">Add to Cart</button>
                </div>
                <div class="item miscellaneous">
                    <img src="./assets/images/merch/cup2.jpeg" alt="Mug">
                    <h3>Stage Fright Mug</h3>
                    <p>$12</p>
                    <button onclick="addToCart('Stage Fright Mug', 12)">Add to Cart</button>
                </div>
                <div class="item clothing">
                    <img src="./assets/images/merch/cap.jpeg" alt="T-Shirt">
                    <h3>Stage Fright T-Shirt</h3>
                    <p>$25</p>
                    <button onclick="addToCart('Stage Fright T-Shirt', 25)">Add to Cart</button>
                </div>
                
                <div class="item sold-out clothing">
                    <img src="./assets/images/merch/shirt2.jpeg" alt="T-Shirt">
                    <h3>Stage Fright T-Shirt</h3>
                    <p>$25</p>
                    <select class="size-select">
                        <option value="S">Small</option>
                        <option value="M">Medium</option>
                        <option value="L">Large</option>
                        <option value="XL">Extra Large</option>
                    </select>
                    <span class="sold-out-message">Sold Out</span>
                    <button disabled>Sold Out</button>
                </div>
                <!-- Add other items similarly -->
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer>
        <p>&copy; 2025 Stage Fright. All rights reserved.</p>
        <script src="script.js"></script>
    </footer>

    <script>
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        let cartCount = cart.length;
        updateCartDisplay();

        function toggleCart() {
            const cartSidebar = document.getElementById('cartSidebar');
            if (cartSidebar.style.transform === 'translateX(0%)') {
                cartSidebar.style.transform = 'translateX(100%)';
            } else {
                cartSidebar.style.transform = 'translateX(0%)';
            }
        }

        function addToCart(itemName, price) {
            const numericPrice = parseFloat(price);
            cart.push({ itemName, price: numericPrice });
            cartCount = cart.length;
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartDisplay();
            alert(`Added ${itemName} for $${numericPrice.toFixed(2)} to your cart!`);
        }

        function removeFromCart(index) {
            cart.splice(index, 1);
            cartCount = cart.length;
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartDisplay();
        }

        function updateCartDisplay() {
            const cartCountElement = document.getElementById('cartCount');
            const cartItemsElement = document.getElementById('cartItems');
            const cartTotalElement = document.getElementById('cartTotal');

            cartCountElement.innerText = cartCount;
            cartItemsElement.innerHTML = '';

            let total = 0;

            cart.forEach((item, index) => {
                const itemDiv = document.createElement('div');
                itemDiv.classList.add('cart-item');
                itemDiv.innerHTML = `${item.itemName} - $${item.price}
                                    <button onclick="removeFromCart(${index})">Remove</button>`;
                cartItemsElement.appendChild(itemDiv);
                total += item.price;
            });

            cartTotalElement.innerText = total.toFixed(2);
        }

        function sortItems() {
            const sortValue = document.getElementById('sort').value;
            const itemsContainer = document.querySelector('.grid');
            const items = Array.from(itemsContainer.children);

            items.sort((a, b) => {
                const priceA = parseFloat(a.querySelector('p').innerText.replace('$', ''));
                const priceB = parseFloat(b.querySelector('p').innerText.replace('$', ''));

                if (sortValue === 'price-asc') {
                    return priceA - priceB;
                } else if (sortValue === 'price-desc') {
                    return priceB - priceA;
                } else if (sortValue === 'clothing') {
                    return a.classList.contains('clothing') ? -1 : 1;
                } else if (sortValue === 'albums') {
                    return a.classList.contains('albums') ? -1 : 1;
                } else if (sortValue === 'miscellaneous') {
                    return a.classList.contains('miscellaneous') ? -1 : 1;
                }
                return 0;
            });

            itemsContainer.innerHTML = '';
            items.forEach(item => itemsContainer.appendChild(item));
        }
    </script>
</body>

</html>
